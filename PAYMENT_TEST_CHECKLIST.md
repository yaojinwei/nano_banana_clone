# 支付功能测试清单

## 📋 测试前检查

### ✅ 已完成
- [x] API 密钥已配置
- [x] 测试模式已启用
- [x] 代码已修复（发送基础积分）
- [x] 服务器已启动

### ⚠️ 需要完成
- [ ] Creem Dashboard 中创建测试产品
- [ ] 更新产品 ID 到代码

## 🧪 测试步骤

### 1. 登录系统
访问：http://localhost:3000/login
点击："Continue with Google"

### 2. 访问充值页面
访问：http://localhost:3000/wallet/recharge

### 3. 选择套餐
- 选择 100 Credits ($10)
- 或其他套餐

### 4. 选择支付方式
- 选择信用卡（Credit Card）

### 5. 点击支付
点击："Pay $10" 按钮

## 🎯 期望结果

### 如果产品已创建：
1. ✅ 页面跳转到 Creem 支付页面
2. ✅ 显示测试支付表单
3. ✅ 输入测试卡号：`4242 4242 4242 4242`
4. ✅ 输入过期日期：`12/34`
5. ✅ 输入 CVC：`123`
6. ✅ 完成支付
7. ✅ 跳转回：`/checkout/success`

### 如果产品未创建：
1. ❌ 看到错误提示："无效的积分套餐"
2. ❌ 或 "Product not found"
3. ❌ 或服务器错误

## 📸 请提供以下信息

为了帮您诊断问题，请告诉我：

1. **点击支付后看到什么？**
   - [ ] 错误提示（请截图）
   - [ ] 页面跳转（URL是什么？）
   - [ ] 直接显示成功
   - [ ] 其他（请描述）

2. **浏览器控制台**
   - 按 F12 打开开发者工具
   - 查看 Console 标签
   - 查看 Network 标签
   - 找到 `/api/creem/create-checkout` 请求
   - 告诉我 Response 内容

3. **您是否已在 Creem Dashboard 创建产品？**
   - [ ] 是，已创建 4 个产品
   - [ ] 否，还未创建

## 🔍 快速诊断

### 如果看到 "无效的积分套餐"
说明：产品 ID 未配置
**解决**：创建 Creem 产品并更新产品 ID

### 如果看到 "Product not found"
说明：Creem Dashboard 中没有该产品
**解决**：在 Test Mode 中创建产品

### 如果直接显示成功
说明：可能有缓存或其他问题
**解决**：清除浏览器缓存，刷新页面重试

## 💬 需要帮助？

请告诉我：
1. 具体看到了什么错误或行为
2. 浏览器控制台的错误信息
3. Network 标签中 API 请求的 Response

我会帮您解决！
